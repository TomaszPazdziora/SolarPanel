# SolarPanel

A college assignment constructed by a group of 3 people. I worked on a software section developing a solar tracking algorithm. In this project, we used STM32F411CE (blackpill) microcontroller. The code was written in C using the CubeIDE environment. The whole mechanical system is composed of 3 servo motors.

![obraz](https://user-images.githubusercontent.com/103827892/223160650-a6ad49d0-f898-4a75-8446-9c9684d7d5a2.png)

When the program starts, it calls the calibration function. The calibration function controls the sensor servo motor to scan positions (from east to west) to find the best position. Afterward, the microprocessor waits a specified amount of time. Then the findNewPosition() will be called. The logic of the main loop and findNewPosition() functions are explained down below.

The main loop:

![obraz](https://user-images.githubusercontent.com/103827892/223160798-ac8c15e1-7cad-45f2-b1fd-6d1264ef877a.png)

findNewPosition() function:

![obraz](https://user-images.githubusercontent.com/103827892/223160905-eb052813-83f0-4902-9607-d5114bb87170.png)

All code written by me is in the main.c, servo.h and servo.c files. Different files contain code generated by the CubeIDE environment.
